<!DOCTYPE html>
<html>
<head>
    <title>SOAP Client</title>
    <script>
        var url = 'http://localhost:8080/WebMenuServiceProject/ws/WebMenu';

        function displayMenuInfo() {
            var soapRequest =
                `<?xml version="1.0" encoding="utf-8"?>
                 <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
                    xmlns:web="http://yournamespace/">
                    <soapenv:Header/>
                    <soapenv:Body>
                        <web:displayMenuInfo/>
                    </soapenv:Body>
                 </soapenv:Envelope>`;

            callSoapService(soapRequest);
        }

        function searchMenuInfo() {
            var menu_no = document.getElementById("menu_no").value;
            var soapRequest =
                `<?xml version="1.0" encoding="utf-8"?>
                 <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
                    xmlns:web="http://yournamespace/">
                    <soapenv:Header/>
                    <soapenv:Body>
                        <web:searchMenuInfo>
                            <menu_no>${menu_no}</menu_no>
                        </web:searchMenuInfo>
                    </soapenv:Body>
                 </soapenv:Envelope>`;

            callSoapService(soapRequest);
        }

        function callSoapService(soapRequest) {
            fetch(url, {
                method: 'POST',
                body: soapRequest,
                headers: {
                    'Content-Type': 'text/xml; charset=utf-8',
                },
            })
            .then(response => response.text())
            .then(str => (new window.DOMParser()).parseFromString(str, "text/xml"))
            .then(xml => document.getElementById('response').textContent = xml.getElementsByTagName('return')[0].textContent)
            .catch(error => console.log('Error:', error));
        }
    </script>
</head>
<body>
    <input id="menu_no" type="text" placeholder="Menu Number">
    <button onclick="searchMenuInfo()">Search Menu</button>
    <button onclick="displayMenuInfo()">Display Menu</button>
    <p id="response"></p>
</body>
</html>
